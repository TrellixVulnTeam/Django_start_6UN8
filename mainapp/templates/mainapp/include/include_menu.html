{% for link in mainapp_list %}
    <li><a href="{% url link.view_name %}"

        {% if request.resolver_match.view_name == link.view_name  %}
					class="active"
					{% endif %}
                {% if request.resolver_match.view_name == 'products:category' and link.link_name == 'Продукты'  %}
					class="active"
                {% elif request.resolver_match.view_name == 'products:all' and link.link_name == 'Продукты'  %}
					class="active"

					{% endif %}
    >{{ link.link_name }}</a></li>

{% endfor %}
{% if user.is_authenticated %}
<li>
    <a href="{% url 'auth:edit' %}">
        {{ user.first_name|default:'Пользователь' }}
    </a>
</li>
{% endif %}
<li>
    {% if user.is_authenticated %}
      <a href="{% url 'auth:logout' %}">выйти</a>
    {% else %}
      <a href="{% url 'auth:login' %}">войти</a>
    {% endif %}
    <a href="{% url 'cartapp:cart' %}">
        {% if cart %} ({{cart.0.total_quantity}}: {{cart.0.total_cost}}) {% endif %}
    </a>
</li>